<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Publicar Seu Livro | Refúgio Digital de Livros</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="css/pages.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
</head>
<body class="books-app publish-page">
  <button class="dark-mode-toggle" id="darkModeToggle">
    <svg id="sunIcon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
    <svg id="moonIcon" class="is-hidden" width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
      <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
    </svg>
  </button>

  <custom-navbar></custom-navbar>

  <div class="publish-header">
    <h1 class="publish-title">Publicar Seu Livro</h1>
    <p class="publish-subtitle">Compartilhe sua história com leitores ao redor do mundo</p>
  </div>

  <div class="publish-container">
    <div class="success-message" id="successMessage">
      ✓ Livro publicado com sucesso! Redirecionando...
    </div>

    <!-- Seção: Detalhes do Livro -->
    <section class="form-section">
      <h2>Detalhes do Livro</h2>
      <form id="publish-form" enctype="multipart/form-data">
        <div class="form-group">
          <label for="title">Título do Livro *</label>
          <input type="text" id="title" name="title" placeholder="Digite o título do seu livro" required>
        </div>

        <div class="form-group">
          <label for="author">Nome do Autor *</label>
          <input type="text" id="author" name="author" placeholder="Seu nome ou pseudônimo" required>
        </div>

        <div class="form-group">
          <label for="synopsis">Sinopse *</label>
          <textarea id="synopsis" name="synopsis" placeholder="Escreva uma breve descrição do seu livro" required></textarea>
        </div>

        <div class="form-group">
          <label>Capa do Livro *</label>
          <div class="cover-upload">
            <div class="cover-preview" id="cover-preview">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="3" y="3" width="18" height="18" rx="2"></rect>
                <circle cx="8.5" cy="8.5" r="1.5"></circle>
                <path d="M21 15l-5-5L5 21"></path>
              </svg>
            </div>
            <div class="upload-area">
              <input type="file" id="cover" name="coverImage" accept="image/*" class="upload-input" required>
              <p class="upload-hint">JPG, PNG ou WebP (máx. 5MB)</p>
            </div>
          </div>
        </div>
      </form>
    </section>

    <!-- Seção: Primeiro Capítulo -->
    <section class="form-section">
      <h2>Primeiro Capítulo</h2>
      <div class="form-group">
        <label for="chapter-title">Título do Capítulo *</label>
        <input type="text" id="chapter-title" name="chapterTitle" placeholder="ex: Capítulo 1: O Começo" required>
      </div>
      <div class="form-group">
        <label for="chapter-content">Conteúdo do Capítulo *</label>
        <textarea id="chapter-content" name="chapterContent" placeholder="Escreva o conteúdo do capítulo aqui..." required></textarea>
      </div>
      <div class="form-group">
        <label for="publish-date">Data de Publicação</label>
        <input type="date" id="publish-date" name="publishDate">
      </div>
    </section>

    <!-- Botões -->
    <div class="button-group">
      <button type="button" class="btn btn-secondary" id="save-draft">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path>
          <polyline points="17 21 17 13 7 13 7 21"></polyline>
          <polyline points="7 3 7 8 15 8"></polyline>
        </svg>
        Salvar Rascunho
      </button>
      <button type="submit" class="btn btn-primary" id="publish-btn" form="publish-form">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
          <polyline points="17 8 12 3 7 8"></polyline>
          <line x1="12" y1="3" x2="12" y2="15"></line>
        </svg>
        Publicar Livro
      </button>
    </div>
  </div>

  <custom-footer></custom-footer>

  <script src="components/navbar.js"></script>
  <script src="components/footer.js"></script>
  <script src="js/publish.js"></script>
</body>
</html>
    if (draft) {
        publishForm.title.value = draft.title || '';
        publishForm.subtitle.value = draft.subtitle || '';
        publishForm.author.value = draft.author || '';
        publishForm.synopsis.value = draft.synopsis || '';
        publishForm.chapterTitle.value = draft.chapterTitle || '';
        publishForm.chapterContent.value = draft.chapterContent || '';
        publishForm.publishDate.value = draft.publishDate || '';
    }
});
</script>


</body>
</html>
